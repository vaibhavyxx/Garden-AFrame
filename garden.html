<!DOCTYPE html>
<html>
  <head>
    <title>Textures - A-Frame School</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
     <script src="https://unpkg.com/aframe-animation-component@^4.1.2/dist/aframe-animation-component.min.js"></script>
    
  </head>
  <body>
    <a-scene>

      <!-- importing assets -->
      <a-assets>
        <a-asset-item id = "fence" src = "fence.glb"></a-asset-item>
        <a-asset-item id= "castle" src ="castle.glb"></a-asset-item>
          <video id = "vid" autoplay loop= "true" src = "images/ride.mp4">
      </a-assets>

      <a-video src = "#vid" width = "10" height = "10" position = "12.227 7.375 34.510" scale = "2.936 1 1"></a-video>

      <a-entity id="decor" gltf-model="#fence" scale ="15 15 15" rotation= "0 0 0" ></a-entity>
      <a-entity id ="castle decor" gltf-model = "#castle"></a-entity>

      <a-entity id= "left"></a-entity>
      <a-light
        type="directional"
        light="castShadow: true"
        position="1000 800 300"
        intensity="0.5"
      ></a-light>
      <a-sky
        src="https://cdn.glitch.global/6bae2660-c71c-470b-9ac7-42cd977d167c/vecteezy_seamless-360-degrees-angle-view-blue-sky-with-clouds-with_12633880_231.jpg?v=1688628578469"
      ></a-sky>

      <a-plane id = "ground"
        position="0 -0.160 0"
        color="green"
        roughness = "1"
        src="https://cdn.glitch.me/6bae2660-c71c-470b-9ac7-42cd977d167c/vecteezy_green-grass-for-texture-or-background_1955075.jpg?v=1688628686600"
        width="500"
        height="500"
        side="double"
        rotation="90 0 0"
      ></a-plane>

      <a-plane id= "road"
      position = "17.078 0.061 22.811"
      color = "gray"
      metalness = "0.7"
      roughness = "0.5"
      width = "2"
      height= "5"
      side= "double"
      scale = "5.331 12.106 1"
      rotation= "90 90 0"></a-plane>

      <!-- house -->
      <a-entity id = 'house'>
      <a-box position = "-10 2.779 10" color = "yellow" width = "10" height= "10" depth="10"></a-box>

       <a-plane id  = "door"
          color="brown"
          width="2"
          height="5"
          position="-0.044 1.362 2.728"
          side="double"
          scale = "0.722 0.573 1.00"
        ></a-plane>
      </a-entity>

      <!--adding animations on the streets -->
      <a-box  id ="car" position="-1 0.5 -3" rotation="0 0 0" color="#4CC3D9" animation = "property: position; from: 0.132 0.662 23.447; to: 184.780 0.662 23.447; dur: 50000; dir: alternate; easing:linear; loop: true"></a-box>
      <a-box  id ="car2" position="-1 0.5 -3" rotation="0 0 0" color="red" animation = "property: position; from: 0.132 0.862 23.447; to: 184.780 0.862 23.447; dur: 1500; dir: alternate; easing:linear; loop: true"></a-box>

      <a-sphere id= "car3" position="-1 0.5 -3" rotation="0 0 0" color="blue" animation = "property: position; from: 0.22 1.062 23.447; to: 164.780 1.062 23.447; dur: 2500; dir: alternate; easing:linear; loop: true";
      animation__color = "property: material.color; from: #EF2D5E; to: #4CC3D9; dur: 2500; autoplay: true; dir: alternate; loop: true"></a-sphere>

      <a-entity id = "tree">
        <a-cylinder color = "brown" height = "4" radius = ".5" position = "5.294 2.040 -9.649"></a-cylinder>
        <a-icosahedron color = "green" radius = "2.5" 
                       position= "5.304 11.576 -9.658"></a-icosahedron>
        <a-icosahedron color = "green" radius = "4" 
                       position= "5.304 6.910 -9.658 "
                       rotation = "45 0 0"></a-icosahedron>
      </a-entity>
      
       <a-icosahedron color = "green" radius = "4" 
                       position= "-15.738 -0.138 -11.950 "
                      scale = "0.669 0.599 0.661"
                       rotation = "45 0 0"></a-icosahedron>
      

      <a-light type="point" intensity="0.8" position="2 4 4"></a-light>
    </a-scene>
    
    <script>
      const scene = document.querySelector('a-scene');

      for(let i=0; i < 20; i++){

        //house 
        let wall = document.createElement('a-box')
        wall.setAttribute('color', 'yellow')
        wall.setAttribute('height', '10');
        wall.setAttribute('width', '5');
        wall.setAttribute('depth', '5');
        wall.setAttribute('position', {x: i * 10, y: 0, z: 0})
        scene.appendChild(wall)

        let roof = document.createElement('a-box')
        roof.setAttribute('material', {src: 'images/3529.jpg'});
        roof.setAttribute('position', {x: i * 10, y: 5.43, z: 0});
        roof.setAttribute('height', '1');
        roof.setAttribute('depth', '5');
        roof.setAttribute('width', '5');
        scene.appendChild(roof);

        let door = document.createElement('a-plane')
        door.setAttribute('color', 'brown');
        door.setAttribute('width', '3');
        door.setAttribute('position', {x: -0.044 + 10* i, y: 1.362, z: 2.728});
        door.setAttribute('rotation', '0 0 90');
        scene.appendChild(door);

//window issues w alignment
        let window = document.createElement('a-plane');
        window.setAttribute('material', {src: 'images/window.jpg'});
        window.setAttribute('rotation', '0 90 0');
        window.setAttribute('position', {x: -2.572 + 10 *i, y: 2, z: 0.051});
        window.setAttribute('side', 'double');
        window.setAttribute('width', '4');
        window.setAttribute('height', '3');
        scene.appendChild(window);

        //tree
        let trunk = document.createElement('a-cylinder');
        trunk.setAttribute('position', {x: 5.7+ 10*i, y: 2.040, z: -9.649});
        trunk.setAttribute('height', '3');
        trunk.setAttribute('color', 'brown');
        trunk.setAttribute('radius', '0.5')
        scene.appendChild(trunk);

        let leaf = document.createElement('a-icosahedron')
        leaf.setAttribute('position', {x: 15.700 + 10 *i, y: 6.910, z: -9.658});
        leaf.setAttribute('rotation', {x: i * 90/360, y:0, z: 0})
        //const radius = Math.random() * 4;
        leaf.setAttribute('radius', 6);
        leaf.setAttribute('color', 'green');
        leaf.setAttribute('material', {roughness: 5})
        scene.appendChild(leaf);

        //issue this is not letting the bigger one print
        /*let upperLeaf = document.createElement('a-icosahedron');
        leaf.setAttribute('position', {x: 15.700 + 10 *i, y: 11.576, z: -9.658});
        leaf.setAttribute('rotation', '0 45 0');
        leaf.setAttribute('radius', '2.5');
        leaf.setAttribute('color', '#1cd42e');
        scene.appendChild(upperLeaf);
*/

      }

    
    </script>
  </body>
</html>
